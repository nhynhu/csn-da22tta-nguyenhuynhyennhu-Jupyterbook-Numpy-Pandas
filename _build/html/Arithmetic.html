
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Phép toán với Mảng NumPy &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Arithmetic';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4.2 Hàm Toàn Cụcục: Các Hàm Mảng Nhanh Theo Phần Tử" href="UniversalFunctions.html" />
    <link rel="prev" title="4.1 Đối Tượng Mảng N Chiều NumPy: Một Đối Tượng Mảng Đa Chiều" href="ndarray.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt="My sample book - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Numpy.html">NumPy Cơ Bản Mảng và Tính Toán Vector</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ndarray.html">4.1 Đối Tượng Mảng N Chiều NumPy: Một Đối Tượng Mảng Đa Chiều</a></li>

<li class="toctree-l2 current active"><a class="current reference internal" href="#">Các Phép Toán trên Mảng</a></li>
<li class="toctree-l2"><a class="reference internal" href="UniversalFunctions.html">4.2 Hàm Toàn Cụcục: Các Hàm Mảng Nhanh Theo Phần Tử</a></li>




<li class="toctree-l2"><a class="reference internal" href="InputOutput.html">Nhập/Xuất Dữ Liệu</a></li>
<li class="toctree-l2"><a class="reference internal" href="Khac.html">Đại Số Tuyến Tính với NumPy</a></li>



</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Pandas.html">Pandas cơ bản</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="DataStructures.html">Giới Thiệu Cấu Trúc Dữ Liệu</a></li>
<li class="toctree-l2"><a class="reference internal" href="EssentialFunctionality.html">Các Chức Năng Cơ Bản</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="DataCleaning.html">Làm Sạch và Chuẩn Bị Dữ Liệu</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="Handling.html">Xử Lý Dữ Liệu Thiếu</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="DataWrangling.html">CHƯƠNG 8</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FArithmetic.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Arithmetic.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Phép toán với Mảng NumPy</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chi-muc-co-ban-va-cat-lat">Chỉ mục cơ bản và Cắt lát</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-bang-cach-cat">Lập chỉ mục bằng cách cắt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-tren-mang-mot-chieu">Lập chỉ mục trên mảng một chiều</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-tren-mang-hai-chieu">Lập chỉ mục trên mảng hai chiều</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-boolean-trong-numpy">Lập Chỉ Mục Boolean trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tao-du-lieu-ngau-nhien-voi-numpy">Tạo Dữ Liệu Ngẫu Nhiên với NumPy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#su-dung-mang-boolean-de-lap-chi-muc-mang">Sử Dụng Mảng Boolean để Lập Chỉ Mục Mảng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ket-hop-nhieu-dieu-kien-boolean">Kết Hợp Nhiều Điều Kiện Boolean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#su-dung-toan-tu-de-phu-dinh-dieu-kien">Sử Dụng Toán Tử ~ để Phủ Định Điều Kiện</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gan-gia-tri-voi-mang-boolean">Gán Giá Trị với Mảng Boolean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gan-gia-tri-cho-hang-hoac-cot-voi-boolean">Gán Giá Trị Cho Hàng hoặc Cột với Boolean</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fancy-indexing-trong-numpy">Fancy Indexing trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tao-mang-8-4">Tạo Mảng 8 × 4</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-mot-tap-con-cac-hang">Lập Chỉ Mục Một Tập Con Các Hàng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-voi-nhieu-mang-chi-so">Lập Chỉ Mục Với Nhiều Mảng Chỉ Số</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-fancy-voi-lat-cat">Lập Chỉ Mục Fancy với Lát Cắt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#luu-y-ve-fancy-indexing">Lưu Ý về Fancy Indexing</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chuyen-vi-mang-va-hoan-doi-truc-trong-numpy">Chuyển Vị Mảng và Hoán Đổi Trục trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chuyen-vi-mang">Chuyển Vị Mảng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tinh-toan-ma-tran">Tính Toán Ma Trận</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hoan-doi-truc">Hoán Đổi Trục</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hoan-doi-truc-voi-swapaxes">Hoán Đổi Trục với swapaxes()</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-3-ufunc-don">Bảng 4-3. Ufunc đơn</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-4-ham-toan-cau-nhi-phan">Bảng 4-4. Hàm toàn cầu nhị phân</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-trinh-huong-mang-voi-cac-mang">4.3 Lập Trình Hướng Mảng với các Mảng</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vi-du-ve-vector-hoa">Ví dụ về Vector hóa</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bieu-dien-logic-dieu-kien-duoi-dang-cac-phep-toan-mang">Biểu diễn Logic Điều kiện dưới dạng Các Phép Toán Mảng</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phuong-phap-toan-hoc-va-thong-ke">Phương pháp Toán học và Thống kê</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-5-cac-phuong-phap-thong-ke-mang-co-ban">Bảng 4-5. Các phương pháp thống kê mảng cơ bản</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phuong-phap-cho-mang-boolean">Phương pháp cho Mảng Boolean</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sap-xep">Sắp xếp</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#logic-tap-hop-dac-biet-va-khac">Logic Tập Hợp Đặc Biệt và Khác</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-6-cac-thao-tac-tap-hop-mang">Bảng 4-6. Các thao tác tập hợp mảng</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="phep-toan-voi-mang-numpy">
<h1>Phép toán với Mảng NumPy<a class="headerlink" href="#phep-toan-voi-mang-numpy" title="Link to this heading">#</a></h1>
<p>Mảng NumPy đóng vai trò quan trọng bởi chúng cho phép thực hiện các phép toán theo lô trên dữ liệu mà không cần viết bất kỳ vòng lặp nào. Người dùng NumPy thường gọi quá trình này là vector hóa. Các phép toán số học giữa các mảng có kích thước tương đương sẽ áp dụng phép toán đó lên từng phần tử:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]])</span>
<span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">*</span> <span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">,</span>  <span class="mf">4.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">16.</span><span class="p">,</span> <span class="mf">25.</span><span class="p">,</span> <span class="mf">36.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">-</span> <span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]])</span>
</pre></div>
</div>
<p>Các phép toán số học với các số vô hướng sẽ truyền đối số số vô hướng đến từng phần tử trong mảng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">/</span> <span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">1.</span>    <span class="p">,</span> <span class="mf">0.5</span>   <span class="p">,</span> <span class="mf">0.3333</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.25</span>  <span class="p">,</span> <span class="mf">0.2</span>   <span class="p">,</span> <span class="mf">0.1667</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">**</span> <span class="mf">0.5</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">1.</span>    <span class="p">,</span> <span class="mf">1.4142</span><span class="p">,</span> <span class="mf">1.7321</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">2.</span>    <span class="p">,</span> <span class="mf">2.2361</span><span class="p">,</span> <span class="mf">2.4495</span><span class="p">]])</span>
</pre></div>
</div>
<p>Các phép so sánh giữa các mảng có cùng kích thước sẽ tạo ra các mảng boolean:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span> <span class="p">[</span><span class="mf">7.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">]])</span>
<span class="n">arr2</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">4.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.</span><span class="p">,</span>  <span class="mf">2.</span><span class="p">,</span> <span class="mf">12.</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2</span> <span class="o">&gt;</span> <span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Output:</span>
<span class="n">array</span><span class="p">([[</span><span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
       <span class="p">[</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<section id="chi-muc-co-ban-va-cat-lat">
<h2>Chỉ mục cơ bản và Cắt lát<a class="headerlink" href="#chi-muc-co-ban-va-cat-lat" title="Link to this heading">#</a></h2>
<p>Chỉ mục mảng NumPy là một chủ đề phong phú, vì có nhiều cách để bạn chọn một tập con của dữ liệu hoặc các phần tử riêng lẻ. Mảng một chiều rất đơn giản; bề ngoài, chúng hoạt động tương tự như danh sách Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#output</span>
<span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<p>Chỉ mục đơn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#output</span>
<span class="mi">5</span>
</pre></div>
</div>
<p>Cắt lát (slicing):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<p>Gán giá trị cho lát cắt:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<p>Lát cắt và Dạng xem (View)
Trong NumPy, các lát cắt mảng là dạng xem của mảng gốc, không sao chép dữ liệu. Điều này có nghĩa là thay đổi lát cắt cũng thay đổi dữ liệu trong mảng nguồn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr_slice</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
<span class="n">arr_slice</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>
</pre></div>
</div>
<p>Thay đổi giá trị trong lát cắt:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr_slice</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12345</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12345</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="n">Gán</span> <span class="n">giá</span> <span class="n">trị</span> <span class="n">toàn</span> <span class="n">bộ</span> <span class="n">lát</span> <span class="n">cắt</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr_slice</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">64</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<p>Nếu bạn cần sao chép dữ liệu thay vì tạo dạng xem, sử dụng copy():</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr_copy</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
<p>Chỉ mục trong Mảng Đa Chiều
Mảng hai chiều có thể được chỉ mục tương tự:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="n">arr2d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2d</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>
</pre></div>
</div>
<p>Hoặc viết gọn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2d</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">3</span>
</pre></div>
</div>
<p>Chỉ mục Mảng Ba Chiều
Ví dụ với mảng 3 chiều:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr3d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]]])</span>
<span class="n">arr3d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</pre></div>
</div>
<p>Gán giá trị mới:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">old_values</span> <span class="o">=</span> <span class="n">arr3d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">arr3d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">arr3d</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">,</span> <span class="mi">42</span><span class="p">]],</span>
       <span class="p">[[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Khôi phục giá trị:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr3d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">old_values</span>
<span class="n">arr3d</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">]],</span>
       <span class="p">[[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Chỉ mục phức hợp:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr3d</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>
</div>
<p>Lưu ý, trong tất cả các trường hợp trên, các lát cắt đều là dạng xem, không phải bản sao.</p>
</section>
<section id="lap-chi-muc-bang-cach-cat">
<h2>Lập chỉ mục bằng cách cắt<a class="headerlink" href="#lap-chi-muc-bang-cach-cat" title="Link to this heading">#</a></h2>
<p>NumPy cung cấp khả năng thao tác mạnh mẽ với dữ liệu nhờ tính năng lập chỉ mục và cắt lát (slicing). Phương pháp này tương tự như thao tác với danh sách Python, nhưng mạnh mẽ hơn vì hỗ trợ mảng nhiều chiều.</p>
<section id="lap-chi-muc-tren-mang-mot-chieu">
<h3>Lập chỉ mục trên mảng một chiều<a class="headerlink" href="#lap-chi-muc-tren-mang-mot-chieu" title="Link to this heading">#</a></h3>
<p>Với mảng một chiều, việc lập chỉ mục và cắt lát tương tự như trong danh sách Python. Phép cắt lát cho phép truy xuất một dải phần tử từ mảng.</p>
<p>Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">64</span><span class="p">])</span>
</pre></div>
</div>
<p>Trong ví dụ trên, cú pháp arr[1:6] chọn các phần tử từ chỉ số 1 đến chỉ số 5.</p>
</section>
<section id="lap-chi-muc-tren-mang-hai-chieu">
<h3>Lập chỉ mục trên mảng hai chiều<a class="headerlink" href="#lap-chi-muc-tren-mang-hai-chieu" title="Link to this heading">#</a></h3>
<p>Mảng hai chiều (2D) yêu cầu cách lập chỉ mục khác, vì cần chỉ định cả trục hàng (trục 0) và trục cột (trục 1). Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
                  <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
       
</pre></div>
</div>
<p>Phép cắt arr2d[:2] chọn hai hàng đầu tiên, trong đó mỗi hàng chứa toàn bộ cột.</p>
<p>Kết hợp nhiều phép cắt
Có thể sử dụng nhiều lát cắt để chỉ định vùng dữ liệu cần lấy. Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">[:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</pre></div>
</div>
<p>Trong ví dụ này, hai hàng đầu tiên (hàng 0 và 1) được chọn, nhưng chỉ các cột từ cột thứ hai trở đi.</p>
<p>Trộn chỉ số và phép cắt
Có thể kết hợp chỉ số nguyên và phép cắt để truy xuất các lát cắt có số chiều thấp hơn. Ví dụ:</p>
<p>Lấy hàng thứ hai nhưng chỉ hai cột đầu tiên:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
<p>Lấy cột thứ ba nhưng chỉ hai hàng đầu tiên:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">[:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<p>Sử dụng dấu hai chấm (:)
Dấu hai chấm (:) được sử dụng để chọn toàn bộ trục hoặc một phần của mảng. Ví dụ:</p>
<p>Chọn toàn bộ cột đầu tiên từ tất cả các hàng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">[:,</span> <span class="p">:</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">]])</span>
</pre></div>
</div>
<p>Trong ví dụ này, toàn bộ cột đầu tiên được chọn từ tất cả các hàng.</p>
<p>Gán giá trị cho lát cắt</p>
<p>Có thể gán giá trị mới cho một lát cắt, áp dụng cho toàn bộ vùng được chọn. Ví dụ, thay thế tất cả phần tử trong hai hàng đầu tiên (hàng 0 và 1) từ cột thứ hai trở đi bằng giá trị 0:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr2d</span><span class="p">[:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr2d</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]])</span>
</pre></div>
</div>
</section>
</section>
<section id="lap-chi-muc-boolean-trong-numpy">
<h2>Lập Chỉ Mục Boolean trong NumPy<a class="headerlink" href="#lap-chi-muc-boolean-trong-numpy" title="Link to this heading">#</a></h2>
<p>Lập chỉ mục Boolean là một kỹ thuật mạnh mẽ trong NumPy, cho phép chọn và thao tác với dữ liệu trong mảng dựa trên các điều kiện cụ thể. Trong chương này, sẽ tìm hiểu cách sử dụng mảng Boolean để lọc và thay đổi dữ liệu trong mảng.</p>
<section id="tao-du-lieu-ngau-nhien-voi-numpy">
<h3>Tạo Dữ Liệu Ngẫu Nhiên với NumPy<a class="headerlink" href="#tao-du-lieu-ngau-nhien-voi-numpy" title="Link to this heading">#</a></h3>
<p>Giả sử có một mảng tên và một mảng dữ liệu với các giá trị ngẫu nhiên. Các mảng này sẽ được tạo ra từ hàm <code class="docutils literal notranslate"><span class="pre">randn</span></code> trong <code class="docutils literal notranslate"><span class="pre">numpy.random</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Tạo mảng tên</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">])</span>

<span class="c1"># Tạo mảng dữ liệu ngẫu nhiên với phân phối chuẩn</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;&lt;U4&#39;</span><span class="p">)</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">0.0929</span><span class="p">,</span>  <span class="mf">0.2817</span><span class="p">,</span>  <span class="mf">0.769</span> <span class="p">,</span>  <span class="mf">1.2464</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.0072</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2962</span><span class="p">,</span>  <span class="mf">0.275</span> <span class="p">,</span>  <span class="mf">0.2289</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.3529</span><span class="p">,</span>  <span class="mf">0.8864</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0016</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3718</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.669</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.4386</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5397</span><span class="p">,</span>  <span class="mf">0.477</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.2489</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5771</span><span class="p">,</span>  <span class="mf">0.1241</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.3026</span><span class="p">,</span>  <span class="mf">0.5238</span><span class="p">,</span>  <span class="mf">0.0009</span><span class="p">,</span>  <span class="mf">1.3438</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.7135</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8312</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3702</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.8608</span><span class="p">]])</span>
</pre></div>
</div>
<p>Trong ví dụ trên, mảng names chứa các tên và mảng data chứa các giá trị ngẫu nhiên.</p>
</section>
<section id="su-dung-mang-boolean-de-lap-chi-muc-mang">
<h3>Sử Dụng Mảng Boolean để Lập Chỉ Mục Mảng<a class="headerlink" href="#su-dung-mang-boolean-de-lap-chi-muc-mang" title="Link to this heading">#</a></h3>
<p>Để chọn tất cả các hàng có tên là “Bob”, có thể so sánh mảng names với chuỗi ‘Bob’. Kết quả sẽ là một mảng boolean.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">names</span> <span class="o">==</span> <span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p>Mảng boolean này có giá trị True cho những phần tử mà tên là “Bob” và False cho các phần tử còn lại.</p>
<p>Lập chỉ mục với mảng Boolean:
Có thể sử dụng mảng boolean để chọn các hàng trong mảng data.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">names</span> <span class="o">==</span> <span class="s1">&#39;Bob&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.0929</span><span class="p">,</span>  <span class="mf">0.2817</span><span class="p">,</span>  <span class="mf">0.769</span> <span class="p">,</span>  <span class="mf">1.2464</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.669</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.4386</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5397</span><span class="p">,</span>  <span class="mf">0.477</span> <span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="ket-hop-nhieu-dieu-kien-boolean">
<h3>Kết Hợp Nhiều Điều Kiện Boolean<a class="headerlink" href="#ket-hop-nhieu-dieu-kien-boolean" title="Link to this heading">#</a></h3>
<p>Nhiều điều kiện boolean có thể được kết hợp bằng cách sử dụng toán tử &amp; (và) hoặc | (hoặc). Ví dụ, để chọn các hàng có tên là “Bob” hoặc “Will”, có thể làm như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="n">names</span> <span class="o">==</span> <span class="s1">&#39;Bob&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">names</span> <span class="o">==</span> <span class="s1">&#39;Will&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">mask</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.0929</span><span class="p">,</span>  <span class="mf">0.2817</span><span class="p">,</span>  <span class="mf">0.769</span> <span class="p">,</span>  <span class="mf">1.2464</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.3529</span><span class="p">,</span>  <span class="mf">0.8864</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0016</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3718</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.669</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.4386</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5397</span><span class="p">,</span>  <span class="mf">0.477</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.2489</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5771</span><span class="p">,</span>  <span class="mf">0.1241</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="su-dung-toan-tu-de-phu-dinh-dieu-kien">
<h3>Sử Dụng Toán Tử ~ để Phủ Định Điều Kiện<a class="headerlink" href="#su-dung-toan-tu-de-phu-dinh-dieu-kien" title="Link to this heading">#</a></h3>
<p>Toán tử ~ có thể được sử dụng để phủ định điều kiện. Ví dụ, để chọn tất cả các phần tử không phải là “Bob”, có thể làm như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">names</span> <span class="o">==</span> <span class="s1">&#39;Bob&#39;</span><span class="p">)])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">1.0072</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2962</span><span class="p">,</span>  <span class="mf">0.275</span> <span class="p">,</span>  <span class="mf">0.2289</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.3529</span><span class="p">,</span>  <span class="mf">0.8864</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0016</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.3718</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.2489</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5771</span><span class="p">,</span>  <span class="mf">0.1241</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.3026</span><span class="p">,</span>  <span class="mf">0.5238</span><span class="p">,</span>  <span class="mf">0.0009</span><span class="p">,</span>  <span class="mf">1.3438</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.7135</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8312</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.3702</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.8608</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="gan-gia-tri-voi-mang-boolean">
<h3>Gán Giá Trị với Mảng Boolean<a class="headerlink" href="#gan-gia-tri-voi-mang-boolean" title="Link to this heading">#</a></h3>
<p>Một trong những ứng dụng mạnh mẽ của lập chỉ mục boolean là việc gán giá trị cho các phần tử trong mảng thỏa mãn điều kiện. Ví dụ, để thay thế tất cả các giá trị âm trong mảng data thành 0, có thể làm như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">data</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.0929</span><span class="p">,</span>  <span class="mf">0.2817</span><span class="p">,</span>  <span class="mf">0.769</span> <span class="p">,</span>  <span class="mf">1.2464</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.0072</span><span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.275</span> <span class="p">,</span>  <span class="mf">0.2289</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.3529</span><span class="p">,</span>  <span class="mf">0.8864</span><span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.669</span> <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.477</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.2489</span><span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.1241</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.3026</span><span class="p">,</span>  <span class="mf">0.5238</span><span class="p">,</span>  <span class="mf">0.0009</span><span class="p">,</span>  <span class="mf">1.3438</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">,</span>  <span class="mf">0.</span>    <span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="gan-gia-tri-cho-hang-hoac-cot-voi-boolean">
<h3>Gán Giá Trị Cho Hàng hoặc Cột với Boolean<a class="headerlink" href="#gan-gia-tri-cho-hang-hoac-cot-voi-boolean" title="Link to this heading">#</a></h3>
<p>Có thể dễ dàng gán giá trị cho toàn bộ hàng hoặc cột bằng cách sử dụng một mảng boolean. Ví dụ, để thay thế tất cả các giá trị trong mảng data của những người không tên là “Joe” thành 7, có thể làm như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="p">[</span><span class="n">names</span> <span class="o">!=</span> <span class="s1">&#39;Joe&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.0072</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.275</span> <span class="p">,</span>  <span class="mf">0.2289</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">,</span>  <span class="mf">7.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.3026</span><span class="p">,</span>  <span class="mf">0.5238</span><span class="p">,</span>  <span class="mf">0.0009</span><span class="p">,</span>  <span class="mf">1.3438</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.</span> <span class="p">]])</span>

</pre></div>
</div>
</section>
</section>
<section id="fancy-indexing-trong-numpy">
<h2>Fancy Indexing trong NumPy<a class="headerlink" href="#fancy-indexing-trong-numpy" title="Link to this heading">#</a></h2>
<p>Fancy indexing là một thuật ngữ được NumPy sử dụng để mô tả quá trình lập chỉ mục bằng cách sử dụng các mảng số nguyên. Điều này cho phép người dùng truy cập và thao tác với các phần tử của mảng thông qua chỉ số được xác định trước, thay vì phải sử dụng các phép toán hay chỉ mục theo kiểu mặc định.</p>
<section id="tao-mang-8-4">
<h3>Tạo Mảng 8 × 4<a class="headerlink" href="#tao-mang-8-4" title="Link to this heading">#</a></h3>
<p>Giả sử có một mảng 8 × 4. Mảng này có thể được tạo ra và điền các giá trị theo cách sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>

<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="lap-chi-muc-mot-tap-con-cac-hang">
<h3>Lập Chỉ Mục Một Tập Con Các Hàng<a class="headerlink" href="#lap-chi-muc-mot-tap-con-cac-hang" title="Link to this heading">#</a></h3>
<p>Để chọn một tập hợp con của các hàng theo một thứ tự cụ thể, có thể truyền một danh sách hoặc ndarray các số nguyên để chỉ định thứ tự mong muốn. Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">]])</span>
</pre></div>
</div>
<p>Sử Dụng Chỉ Số Âm
Sử dụng chỉ số âm sẽ chọn các hàng từ cuối mảng. Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">]])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="lap-chi-muc-voi-nhieu-mang-chi-so">
<h3>Lập Chỉ Mục Với Nhiều Mảng Chỉ Số<a class="headerlink" href="#lap-chi-muc-voi-nhieu-mang-chi-so" title="Link to this heading">#</a></h3>
<p>Khi truyền nhiều mảng chỉ số, quá trình sẽ chọn một mảng một chiều của các phần tử tương ứng với từng bộ chỉ số:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">27</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">31</span><span class="p">]])</span>
</pre></div>
</div>
<p>Tiếp theo, lập chỉ mục với nhiều mảng chỉ số:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</pre></div>
</div>
<p>Các phần tử (1, 0), (5, 3), (7, 1), và (2, 2) đã được chọn.</p>
</section>
<section id="lap-chi-muc-fancy-voi-lat-cat">
<h3>Lập Chỉ Mục Fancy với Lát Cắt<a class="headerlink" href="#lap-chi-muc-fancy-voi-lat-cat" title="Link to this heading">#</a></h3>
<p>Hành vi của lập chỉ mục fancy có thể khác với những gì một số người dùng mong đợi. Để chọn một tập hợp con của các hàng và cột trong ma trận, có thể làm như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]][:,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="luu-y-ve-fancy-indexing">
<h3>Lưu Ý về Fancy Indexing<a class="headerlink" href="#luu-y-ve-fancy-indexing" title="Link to this heading">#</a></h3>
<p>Cần lưu ý rằng, khác với việc cắt (slicing), fancy indexing luôn sao chép dữ liệu vào một mảng mới. Điều này có nghĩa là kết quả của việc lập chỉ mục fancy không ảnh hưởng đến mảng gốc và sẽ được lưu trữ như một bản sao.</p>
</section>
</section>
<section id="chuyen-vi-mang-va-hoan-doi-truc-trong-numpy">
<h2>Chuyển Vị Mảng và Hoán Đổi Trục trong NumPy<a class="headerlink" href="#chuyen-vi-mang-va-hoan-doi-truc-trong-numpy" title="Link to this heading">#</a></h2>
<p>Chuyển vị mảng và hoán đổi trục là hai thao tác quan trọng trong NumPy giúp thay đổi cấu trúc mảng mà không cần phải sao chép dữ liệu. Chúng hỗ trợ việc thao tác với mảng đa chiều một cách hiệu quả.</p>
<section id="chuyen-vi-mang">
<h3>Chuyển Vị Mảng<a class="headerlink" href="#chuyen-vi-mang" title="Link to this heading">#</a></h3>
<p>Chuyển vị mảng là phép thay đổi cấu trúc của mảng mà không sao chép dữ liệu, giúp tiết kiệm bộ nhớ và tăng hiệu suất. NumPy cung cấp phương thức <code class="docutils literal notranslate"><span class="pre">transpose()</span></code> và thuộc tính <code class="docutils literal notranslate"><span class="pre">T</span></code> để thực hiện chuyển vị.</p>
<p>Ví Dụ về Chuyển Vị:</p>
<p>Tạo một mảng 3x5 và chuyển vị nó:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Tạo mảng 3x5</span>
<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
       <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]])</span>
</pre></div>
</div>
<p>Chuyển vị mảng bằng thuộc tính T:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">14</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="tinh-toan-ma-tran">
<h3>Tính Toán Ma Trận<a class="headerlink" href="#tinh-toan-ma-tran" title="Link to this heading">#</a></h3>
<p>Chuyển vị rất hữu ích khi thực hiện các phép toán ma trận, chẳng hạn như tính toán tích ma trận. Ví dụ, sử dụng np.dot() để tính tích của mảng và chuyển vị của mảng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">arr</span><span class="p">))</span>
</pre></div>
</div>
<p>Kết quả</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">9.2291</span><span class="p">,</span>  <span class="mf">0.9394</span><span class="p">,</span>  <span class="mf">4.948</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.9394</span><span class="p">,</span>  <span class="mf">3.7662</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.3622</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">4.948</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.3622</span><span class="p">,</span>  <span class="mf">4.3437</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="hoan-doi-truc">
<h3>Hoán Đổi Trục<a class="headerlink" href="#hoan-doi-truc" title="Link to this heading">#</a></h3>
<p>Đối với các mảng có nhiều chiều hơn, NumPy cho phép hoán đổi các trục của mảng bằng phương thức transpose(). Phương thức này nhận một bộ số trục và thay đổi thứ tự các trục.</p>
<p>Ví Dụ về Hoán Đổi Trục:
Tạo một mảng 2x2x4 và hoán đổi các trục:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Hoán đổi trục của mảng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">transpose</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Trong ví dụ này, các trục đã được thay đổi thứ tự: trục thứ hai (axis 1) chuyển lên vị trí đầu tiên, trục đầu tiên (axis 0) xuống vị trí thứ hai, và trục cuối cùng (axis 2) không thay đổi.</p>
</section>
<section id="hoan-doi-truc-voi-swapaxes">
<h3>Hoán Đổi Trục với swapaxes()<a class="headerlink" href="#hoan-doi-truc-voi-swapaxes" title="Link to this heading">#</a></h3>
<p>Phương thức swapaxes() cho phép hoán đổi hai trục trong mảng mà không sao chép dữ liệu. Đây là một cách hiệu quả để thay đổi trục mà không tốn thêm bộ nhớ.</p>
<p>Ví Dụ về swapaxes():</p>
<p>Hoán đổi trục 1 và 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="o">.</span><span class="n">swapaxes</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">4</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">5</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">7</span><span class="p">]],</span>

       <span class="p">[[</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">],</span>
        <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">13</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">]]])</span>
</pre></div>
</div>
<p>Phương thức swapaxes() trả về một chế độ xem trên dữ liệu, tức là nó không tạo ra một bản sao mới mà thay đổi thứ tự các trục trực tiếp.</p>
</section>
</section>
<section id="bang-4-3-ufunc-don">
<h2>Bảng 4-3. Ufunc đơn<a class="headerlink" href="#bang-4-3-ufunc-don" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Hàm</strong></p></th>
<th class="head"><p><strong>Mô tả</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">abs</span></code>, <code class="docutils literal notranslate"><span class="pre">fabs</span></code></p></td>
<td><p>Tính giá trị tuyệt đối theo phần tử cho các giá trị số nguyên, số thực hoặc số phức</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sqrt</span></code></p></td>
<td><p>Tính căn bậc hai của mỗi phần tử (tương đương với <code class="docutils literal notranslate"><span class="pre">arr</span> <span class="pre">**</span> <span class="pre">0.5</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">square</span></code></p></td>
<td><p>Tính bình phương của mỗi phần tử (tương đương với <code class="docutils literal notranslate"><span class="pre">arr</span> <span class="pre">**</span> <span class="pre">2</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exp</span></code></p></td>
<td><p>Tính lũy thừa của <code class="docutils literal notranslate"><span class="pre">e</span></code> cho mỗi phần tử</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">log10</span></code>, <code class="docutils literal notranslate"><span class="pre">log2</span></code>, <code class="docutils literal notranslate"><span class="pre">log1p</span></code></p></td>
<td><p>Log tự nhiên (cơ sở <code class="docutils literal notranslate"><span class="pre">e</span></code>), log cơ sở 10, log cơ sở 2 và <code class="docutils literal notranslate"><span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">x)</span></code>, tương ứng</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sign</span></code></p></td>
<td><p>Tính dấu của mỗi phần tử: 1 (dương), 0 (không) hoặc -1 (âm)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ceil</span></code></p></td>
<td><p>Tính trần của mỗi phần tử (tức là, số nguyên nhỏ nhất lớn hơn hoặc bằng số đó)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">floor</span></code></p></td>
<td><p>Tính sàn của mỗi phần tử (tức là, số nguyên lớn nhất nhỏ hơn hoặc bằng mỗi phần tử)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rint</span></code></p></td>
<td><p>Làm tròn các phần tử về số nguyên gần nhất, giữ nguyên kiểu dữ liệu</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">modf</span></code></p></td>
<td><p>Trả về các phần thập phân và nguyên của mảng dưới dạng một mảng riêng biệt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isnan</span></code></p></td>
<td><p>Trả về mảng boolean chỉ ra xem mỗi giá trị có phải là NaN (Not a Number) hay không</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">isfinite</span></code>, <code class="docutils literal notranslate"><span class="pre">isinf</span></code></p></td>
<td><p>Trả về mảng boolean chỉ ra xem mỗi phần tử có hữu hạn (không phải vô cùng, không phải NaN) hoặc vô cùng, tương ứng</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cos</span></code>, <code class="docutils literal notranslate"><span class="pre">cosh</span></code>, <code class="docutils literal notranslate"><span class="pre">sin</span></code>, <code class="docutils literal notranslate"><span class="pre">sinh</span></code>, <code class="docutils literal notranslate"><span class="pre">tan</span></code>, <code class="docutils literal notranslate"><span class="pre">tanh</span></code></p></td>
<td><p>Các công thức lượng giác thường và hyperbolic</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">arccos</span></code>, <code class="docutils literal notranslate"><span class="pre">arccosh</span></code>, <code class="docutils literal notranslate"><span class="pre">arcsin</span></code>, <code class="docutils literal notranslate"><span class="pre">arcsinh</span></code>, <code class="docutils literal notranslate"><span class="pre">arctan</span></code>, <code class="docutils literal notranslate"><span class="pre">arctanh</span></code></p></td>
<td><p>Các công thức lượng giác ngược</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">logical_not</span></code></p></td>
<td><p>Tính giá trị sự thật của <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">x</span></code> theo phần tử (tương đương với <code class="docutils literal notranslate"><span class="pre">~arr</span></code>)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="bang-4-4-ham-toan-cau-nhi-phan">
<h2>Bảng 4-4. Hàm toàn cầu nhị phân<a class="headerlink" href="#bang-4-4-ham-toan-cau-nhi-phan" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Hàm</strong></p></th>
<th class="head"><p><strong>Mô tả</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">add</span></code></p></td>
<td><p>Cộng các phần tử tương ứng trong các mảng</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">subtract</span></code></p></td>
<td><p>Trừ các phần tử trong mảng thứ hai từ mảng đầu tiên</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">multiply</span></code></p></td>
<td><p>Nhân các phần tử trong mảng</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">divide</span></code>, <code class="docutils literal notranslate"><span class="pre">floor_divide</span></code></p></td>
<td><p>Chia hoặc chia nguyên (cắt bỏ phần dư)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">power</span></code></p></td>
<td><p>Nâng các phần tử trong mảng đầu tiên lên các lũy thừa được chỉ định trong mảng thứ hai</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">maximum</span></code>, <code class="docutils literal notranslate"><span class="pre">fmax</span></code></p></td>
<td><p>Giá trị lớn nhất theo phần tử; <code class="docutils literal notranslate"><span class="pre">fmax</span></code> bỏ qua NaN</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">minimum</span></code>, <code class="docutils literal notranslate"><span class="pre">fmin</span></code></p></td>
<td><p>Giá trị nhỏ nhất theo phần tử; <code class="docutils literal notranslate"><span class="pre">fmin</span></code> bỏ qua NaN</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mod</span></code></p></td>
<td><p>Phép chia theo phần tử (số dư của phép chia)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">copysign</span></code></p></td>
<td><p>Sao chép dấu của các giá trị trong đối số thứ hai cho các giá trị trong đối số đầu tiên</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">greater</span></code>, <code class="docutils literal notranslate"><span class="pre">greater_equal</span></code>, <code class="docutils literal notranslate"><span class="pre">less</span></code>, <code class="docutils literal notranslate"><span class="pre">less_equal</span></code>, <code class="docutils literal notranslate"><span class="pre">equal</span></code>, <code class="docutils literal notranslate"><span class="pre">not_equal</span></code></p></td>
<td><p>Thực hiện so sánh theo phần tử, tạo ra mảng boolean (tương đương với các toán tử infix <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">logical_and</span></code>, <code class="docutils literal notranslate"><span class="pre">logical_or</span></code>, <code class="docutils literal notranslate"><span class="pre">logical_xor</span></code></p></td>
<td><p>Tính giá trị sự thật theo phần tử của phép toán logic (tương đương với các toán tử infix <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, `</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="lap-trinh-huong-mang-voi-cac-mang">
<h2>4.3 Lập Trình Hướng Mảng với các Mảng<a class="headerlink" href="#lap-trinh-huong-mang-voi-cac-mang" title="Link to this heading">#</a></h2>
<p>Việc sử dụng các mảng NumPy giúp biểu diễn nhiều tác vụ xử lý dữ liệu một cách ngắn gọn thông qua các biểu thức mảng, thay vì phải viết các vòng lặp phức tạp. Thực hành thay thế vòng lặp rõ ràng bằng các biểu thức mảng thường được gọi là <strong>vector hóa</strong>. Các phép toán mảng vector hóa thường nhanh hơn so với các phiên bản thuần Python, đặc biệt trong các phép toán số học, và có thể nhanh hơn nhiều lần.</p>
<section id="vi-du-ve-vector-hoa">
<h3>Ví dụ về Vector hóa<a class="headerlink" href="#vi-du-ve-vector-hoa" title="Link to this heading">#</a></h3>
<p>Giả sử, ta muốn đánh giá hàm (\sqrt{x^2 + y^2}) trên một lưới giá trị đều. Để thực hiện điều này, ta có thể sử dụng hàm <code class="docutils literal notranslate"><span class="pre">np.meshgrid</span></code>, một hàm trong NumPy giúp tạo ra hai ma trận 2D từ hai mảng 1D, tương ứng với tất cả các cặp giá trị (x, y).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Tạo một mảng giá trị đều từ -5 đến 5, bước nhảy 0.01</span>
<span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span>  <span class="c1"># 1000 điểm cách đều</span>

<span class="c1"># Sử dụng meshgrid để tạo lưới (xs, ys)</span>
<span class="n">xs</span><span class="p">,</span> <span class="n">ys</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>

<span class="c1"># In ra mảng ys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả của ys sẽ là một ma trận 2D, với tất cả các giá trị trong mỗi cột đều bằng giá trị của x tại cột đó.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">5.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">5.</span> <span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">4.99</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.99</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.99</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.99</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.99</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.99</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">4.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.98</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.98</span><span class="p">],</span> 
       <span class="o">...</span><span class="p">,</span> 
       <span class="p">[</span> <span class="mf">4.97</span><span class="p">,</span>  <span class="mf">4.97</span><span class="p">,</span>  <span class="mf">4.97</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">4.97</span><span class="p">,</span>  <span class="mf">4.97</span><span class="p">,</span>  <span class="mf">4.97</span><span class="p">],</span> 
       <span class="p">[</span> <span class="mf">4.98</span><span class="p">,</span>  <span class="mf">4.98</span><span class="p">,</span>  <span class="mf">4.98</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">4.98</span><span class="p">,</span>  <span class="mf">4.98</span><span class="p">,</span>  <span class="mf">4.98</span><span class="p">],</span> 
       <span class="p">[</span> <span class="mf">4.99</span><span class="p">,</span>  <span class="mf">4.99</span><span class="p">,</span>  <span class="mf">4.99</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mf">4.99</span><span class="p">,</span>  <span class="mf">4.99</span><span class="p">,</span>  <span class="mf">4.99</span><span class="p">]])</span>
</pre></div>
</div>
<p>Sau khi có lưới các điểm, ta có thể đánh giá hàm (\sqrt{x^2 + y^2}) bằng cách sử dụng biểu thức mảng vector hóa:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Đánh giá hàm sqrt(x^2 + y^2) trên lưới các điểm</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">xs</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">ys</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># In ra kết quả</span>
<span class="nb">print</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả sẽ là một ma trận 2D với giá trị của hàm
(\sqrt{x^2 + y^2})
tại mỗi điểm trong lưới.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">7.0711</span><span class="p">,</span> <span class="mf">7.064</span> <span class="p">,</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="mf">7.064</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">7.064</span> <span class="p">,</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0569</span><span class="p">],</span> 
       <span class="p">[</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0357</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">],</span> 
       <span class="o">...</span><span class="p">,</span> 
       <span class="p">[</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="mf">7.0357</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0286</span><span class="p">,</span> <span class="mf">7.0357</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">],</span> 
       <span class="p">[</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0357</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">],</span> 
       <span class="p">[</span> <span class="mf">7.064</span> <span class="p">,</span> <span class="mf">7.0569</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mf">7.0428</span><span class="p">,</span> <span class="mf">7.0499</span><span class="p">,</span> <span class="mf">7.0569</span><span class="p">]])</span>
</pre></div>
</div>
<p>Minh họa với matplotlib
Để trực quan hóa kết quả trên, có thể sử dụng matplotlib để tạo biểu đồ hình ảnh từ mảng hai chiều z. Hàm imshow trong matplotlib giúp hiển thị mảng dưới dạng hình ảnh, với màu sắc thể hiện giá trị của các phần tử trong mảng.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Hiển thị hình ảnh từ mảng z</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">gray</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>

<span class="c1"># Thêm tiêu đề cho biểu đồ</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Biểu đồ hình ảnh của $\sqrt{x^2 + y^2}$ cho một lưới giá trị&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả sẽ là một hình ảnh biểu thị giá trị của
(\sqrt{x^2 + y^2}) tại mỗi điểm trong lưới. Hình ảnh này giúp hình dung rõ ràng sự thay đổi giá trị của hàm theo không gian 2D.</p>
</section>
</section>
<section id="bieu-dien-logic-dieu-kien-duoi-dang-cac-phep-toan-mang">
<h2>Biểu diễn Logic Điều kiện dưới dạng Các Phép Toán Mảng<a class="headerlink" href="#bieu-dien-logic-dieu-kien-duoi-dang-cac-phep-toan-mang" title="Link to this heading">#</a></h2>
<p>Hàm <code class="docutils literal notranslate"><span class="pre">numpy.where</span></code> là phiên bản vector hóa của biểu thức ba ngôi, có cấu trúc <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">if</span> <span class="pre">condition</span> <span class="pre">else</span> <span class="pre">y</span></code>. Giả sử ta có một mảng boolean và hai mảng giá trị sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">xarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">])</span>
<span class="n">yarr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">])</span>
<span class="n">cond</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
</pre></div>
</div>
<p>Giả sử ta muốn lấy giá trị từ xarr nếu giá trị tương ứng trong cond là True, và lấy giá trị từ yarr nếu cond là False. Một cách làm thông thường sẽ như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span> <span class="k">if</span> <span class="n">c</span> <span class="k">else</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">xarr</span><span class="p">,</span> <span class="n">yarr</span><span class="p">,</span> <span class="n">cond</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mf">1.1000000000000001</span><span class="p">,</span> <span class="mf">2.2000000000000002</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.3999999999999999</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
</pre></div>
</div>
<p>Tuy nhiên, cách làm này có một số vấn đề:</p>
<p>Nó không nhanh chóng đối với các mảng lớn vì tất cả công việc đều được thực hiện trong mã Python thông dịch.
Nó không hoạt động với các mảng đa chiều.
Với np.where, ta có thể viết lại một cách ngắn gọn như sau:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">cond</span><span class="p">,</span> <span class="n">xarr</span><span class="p">,</span> <span class="n">yarr</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">])</span>
</pre></div>
</div>
<p>Các đối số thứ hai và thứ ba của np.where không nhất thiết phải là mảng; một trong số đó có thể là hằng số. Một ví dụ điển hình khi sử dụng np.where trong phân tích dữ liệu là để thay thế giá trị trong mảng. Ví dụ, giả sử bạn có một ma trận dữ liệu ngẫu nhiên và muốn thay thế tất cả các giá trị dương bằng 2 và tất cả các giá trị âm bằng -2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5031</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6223</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7262</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.2229</span><span class="p">,</span>  <span class="mf">0.0513</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.1577</span><span class="p">,</span>  <span class="mf">0.8167</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.4336</span><span class="p">,</span>  <span class="mf">1.0107</span><span class="p">,</span>  <span class="mf">1.8249</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9975</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.8506</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1316</span><span class="p">,</span>  <span class="mf">0.9124</span><span class="p">,</span>  <span class="mf">0.1882</span><span class="p">]])</span>
</pre></div>
</div>
<p>Để xác định các giá trị dương, ta có thể kiểm tra điều kiện với arr &gt; 0:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
       <span class="p">[</span> <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">],</span>
       <span class="p">[</span> <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
       <span class="p">[</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>  <span class="kc">True</span><span class="p">,</span>  <span class="kc">True</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
<p>Sau đó, ta có thể sử dụng np.where để thay thế các giá trị:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">arr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">2</span><span class="p">]])</span>
</pre></div>
</div>
<p>Ngoài ra, ta cũng có thể thay thế tất cả các giá trị dương trong arr bằng một hằng số, ví dụ như 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">arr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.5031</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.6223</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.9212</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7262</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.</span> <span class="p">,</span>    <span class="mf">2.</span> <span class="p">,</span>    <span class="o">-</span><span class="mf">1.1577</span><span class="p">,</span> <span class="mf">2.</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.</span> <span class="p">,</span>    <span class="mf">2.</span> <span class="p">,</span>    <span class="mf">2.</span> <span class="p">,</span>   <span class="o">-</span><span class="mf">0.9975</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.</span> <span class="p">,</span>   <span class="o">-</span><span class="mf">0.1316</span><span class="p">,</span> <span class="mf">2.</span> <span class="p">,</span>    <span class="mf">2.</span> <span class="p">]])</span>
</pre></div>
</div>
<p>Các mảng được truyền vào np.where có thể không chỉ là các mảng có kích thước bằng nhau hoặc hằng số.</p>
</section>
<section id="phuong-phap-toan-hoc-va-thong-ke">
<h2>Phương pháp Toán học và Thống kê<a class="headerlink" href="#phuong-phap-toan-hoc-va-thong-ke" title="Link to this heading">#</a></h2>
<p>Một tập hợp các hàm toán học tính toán thống kê cho toàn bộ mảng hoặc cho dữ liệu theo một trục có sẵn, như các phương pháp của lớp mảng. Các phép toán tổng hợp (thường được gọi là giảm thiểu) như tổng, trung bình và độ lệch chuẩn có thể được tính toán bằng cách gọi phương thức của thể hiện mảng hoặc sử dụng hàm NumPy cấp cao.</p>
<p>Dưới đây là ví dụ về việc tạo dữ liệu ngẫu nhiên phân phối chuẩn và tính toán một số thống kê tổng hợp:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mf">2.1695</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1149</span><span class="p">,</span>  <span class="mf">2.0037</span><span class="p">,</span>  <span class="mf">0.0296</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.7953</span><span class="p">,</span>  <span class="mf">0.1181</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7485</span><span class="p">,</span>  <span class="mf">0.585</span> <span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.1527</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5657</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5625</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0327</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">0.929</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.4826</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0363</span><span class="p">,</span>  <span class="mf">1.0954</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">0.9809</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5895</span><span class="p">,</span>  <span class="mf">1.5817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5287</span><span class="p">]])</span>
</pre></div>
</div>
<p>Tiếp theo, tính toán các giá trị thống kê như trung bình và tổng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mf">0.19607051119998253</span>
</pre></div>
</div>
<p>Hoặc sử dụng hàm NumPy tương ứng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mf">0.19607051119998253</span>
</pre></div>
</div>
<p>Tương tự với phép tính tổng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mf">3.9214102239996507</span>
</pre></div>
</div>
<p>Các hàm như mean và sum có tham số trục tùy chọn cho phép tính toán thống kê theo trục nhất định, dẫn đến một mảng có một chiều giảm đi. Ví dụ:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">1.022</span> <span class="p">,</span>  <span class="mf">0.1875</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.502</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.0881</span><span class="p">,</span>  <span class="mf">0.3611</span><span class="p">])</span>
</pre></div>
</div>
<p>Hoặc:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">3.1693</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.6345</span><span class="p">,</span>  <span class="mf">2.2381</span><span class="p">,</span>  <span class="mf">1.1486</span><span class="p">])</span>
</pre></div>
</div>
<p>Ở đây, arr.mean(1) có nghĩa là “tính trung bình theo chiều dọc” trong khi arr.sum(0) có nghĩa là “tính tổng theo chiều ngang.”</p>
<p>Các phương pháp khác như cumsum và cumprod không giảm thiểu, mà thay vào đó tạo ra một mảng chứa các kết quả trung gian:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">arr</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">28</span><span class="p">])</span>
</pre></div>
</div>
<p>Trong các mảng đa chiều, các hàm dồn tích như cumsum trả về một mảng cùng kích thước, nhưng với các tích lũy được tính dọc theo trục chỉ định theo mỗi lát dimension thấp hơn:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]])</span>
<span class="n">arr</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">7</span><span class="p">],</span>
       <span class="p">[</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">]])</span>
</pre></div>
</div>
<p>Hoặc:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">cumprod</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([[</span>  <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">],</span>
       <span class="p">[</span>  <span class="mi">3</span><span class="p">,</span>  <span class="mi">12</span><span class="p">,</span>  <span class="mi">60</span><span class="p">],</span>
       <span class="p">[</span>  <span class="mi">6</span><span class="p">,</span>  <span class="mi">42</span><span class="p">,</span> <span class="mi">336</span><span class="p">]])</span>
</pre></div>
</div>
</section>
<section id="bang-4-5-cac-phuong-phap-thong-ke-mang-co-ban">
<h2>Bảng 4-5. Các phương pháp thống kê mảng cơ bản<a class="headerlink" href="#bang-4-5-cac-phuong-phap-thong-ke-mang-co-ban" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Phương pháp</p></th>
<th class="head"><p>Mô tả</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sum</span></code></p></td>
<td><p>Tổng của tất cả các phần tử trong mảng hoặc theo một trục; mảng có độ dài bằng không có tổng bằng 0</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mean</span></code></p></td>
<td><p>Trung bình số học; mảng có độ dài bằng không có trung bình NaN</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">std</span></code>, <code class="docutils literal notranslate"><span class="pre">var</span></code></p></td>
<td><p>Độ lệch chuẩn và phương sai, tương ứng, với điều chỉnh độ tự do tùy chọn (mặc định mẫu chia n)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code></p></td>
<td><p>Giá trị nhỏ nhất và lớn nhất</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">argmin</span></code>, <code class="docutils literal notranslate"><span class="pre">argmax</span></code></p></td>
<td><p>Chỉ số của các phần tử nhỏ nhất và lớn nhất, tương ứng</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cumsum</span></code></p></td>
<td><p>Tổng tích lũy của các phần tử bắt đầu từ 0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cumprod</span></code></p></td>
<td><p>Tích tích lũy của các phần tử bắt đầu từ 1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="phuong-phap-cho-mang-boolean">
<h2>Phương pháp cho Mảng Boolean<a class="headerlink" href="#phuong-phap-cho-mang-boolean" title="Link to this heading">#</a></h2>
<p>Các giá trị boolean được chuyển đổi thành 1 (Đúng) và 0 (Sai) trong các phương pháp trước đó. Do đó, hàm tổng thường được sử dụng như một phương tiện để đếm các giá trị Đúng trong mảng boolean:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="p">(</span><span class="n">arr</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>  <span class="c1"># Số lượng giá trị dương</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="mi">42</span>
</pre></div>
</div>
<p>Có hai phương pháp bổ sung, any và all, đặc biệt hữu ích cho các mảng boolean.</p>
<p>any kiểm tra xem một hoặc nhiều giá trị trong mảng có phải là Đúng hay không, trong khi all kiểm tra xem mọi giá trị có phải là Đúng hay không:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bools</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">])</span>
<span class="n">bools</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bools</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="kc">False</span>
</pre></div>
</div>
<p>Các phương pháp này cũng hoạt động với các mảng không phải boolean, trong đó các phần tử khác không bằng 0 được đánh giá là Đúng.</p>
</section>
<section id="sap-xep">
<h2>Sắp xếp<a class="headerlink" href="#sap-xep" title="Link to this heading">#</a></h2>
<p>Giống như kiểu danh sách tích hợp trong Python, mảng NumPy có thể được sắp xếp tại chỗ bằng phương thức <code class="docutils literal notranslate"><span class="pre">sort</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="mf">0.6095</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4938</span><span class="p">,</span> <span class="mf">1.24</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.1357</span><span class="p">,</span> <span class="mf">1.43</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.8469</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.8469</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.4938</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1357</span><span class="p">,</span> <span class="mf">0.6095</span><span class="p">,</span> <span class="mf">1.24</span> <span class="p">,</span> <span class="mf">1.43</span> <span class="p">])</span>
</pre></div>
</div>
<p>Có thể sắp xếp từng phần một chiều của các giá trị trong một mảng đa chiều tại chỗ theo một trục bằng cách truyền số trục vào sort:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">array</span><span class="o">([[</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">6033</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">2636</span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">2555</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-0</span><span class="p">.</span><span class="nc">4457</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">4684</span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">9616</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-1</span><span class="p">.</span><span class="nc">8245</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">6254</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">0229</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">1074</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">0909</span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">3501</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">218</span><span class="w"> </span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">8948</span><span class="o">,</span><span class="w"> </span><span class="nt">-1</span><span class="p">.</span><span class="nc">7415</span><span class="o">]])</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">arr</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="nt">array</span><span class="o">([[</span><span class="nt">-0</span><span class="p">.</span><span class="nc">2555</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">6033</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">2636</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-0</span><span class="p">.</span><span class="nc">9616</span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">4457</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">4684</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-1</span><span class="p">.</span><span class="nc">8245</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">6254</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">0229</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-0</span><span class="p">.</span><span class="nc">3501</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">0909</span><span class="o">,</span><span class="w"> </span><span class="nt">1</span><span class="p">.</span><span class="nc">1074</span><span class="o">],</span><span class="w">  </span>
<span class="w">       </span><span class="o">[</span><span class="nt">-1</span><span class="p">.</span><span class="nc">7415</span><span class="o">,</span><span class="w"> </span><span class="nt">-0</span><span class="p">.</span><span class="nc">8948</span><span class="o">,</span><span class="w"> </span><span class="nt">0</span><span class="p">.</span><span class="nc">218</span><span class="w"> </span><span class="o">]])</span>
</pre></div>
</div>
<p>Phương thức cấp đầu np.sort trả về một bản sao đã sắp xếp của một mảng thay vì sửa đổi mảng tại chỗ. Một cách nhanh chóng để tính toán các phân vị của một mảng là sắp xếp nó và chọn giá trị ở một hạng mục cụ thể:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">large_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">large_arr</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="n">large_arr</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="mf">0.05</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">large_arr</span><span class="p">))]</span>  <span class="c1"># phân vị 5%</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="o">-</span><span class="mf">1.5311513550102103</span>
</pre></div>
</div>
<p>Để biết thêm chi tiết về cách sử dụng các phương thức sắp xếp của NumPy, cùng với các kỹ thuật nâng cao hơn như sắp xếp gián tiếp, hãy xem Phụ lục A. Một số loại thao tác dữ liệu khác liên quan đến việc sắp xếp (ví dụ, sắp xếp một bảng dữ liệu theo một hoặc nhiều cột) cũng có thể được tìm thấy trong pandas.</p>
</section>
<section id="logic-tap-hop-dac-biet-va-khac">
<h2>Logic Tập Hợp Đặc Biệt và Khác<a class="headerlink" href="#logic-tap-hop-dac-biet-va-khac" title="Link to this heading">#</a></h2>
<p>NumPy có một số thao tác tập hợp cơ bản cho các ndarray một chiều. Một trong những thao tác thường được sử dụng là <code class="docutils literal notranslate"><span class="pre">np.unique</span></code>, trả về các giá trị duy nhất đã được sắp xếp trong một mảng:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Will&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-pyython notranslate"><div class="highlight"><pre><span></span>array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;], dtype=&#39;&lt;U4&#39;)
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ints</span><span class="p">)</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-scss notranslate"><div class="highlight"><pre><span></span><span class="nt">array</span><span class="o">([</span><span class="nt">1</span><span class="o">,</span><span class="w"> </span><span class="nt">2</span><span class="o">,</span><span class="w"> </span><span class="nt">3</span><span class="o">,</span><span class="w"> </span><span class="nt">4</span><span class="o">])</span>
</pre></div>
</div>
<p>So sánh với lựa chọn thuần túy bằng Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">names</span><span class="p">))</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">[</span><span class="s1">&#39;Bob&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;Joe&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;Will&#39;</span><span class="o">]</span>
</pre></div>
</div>
<p>Một hàm khác, np.in1d, kiểm tra thành viên của các giá trị trong một mảng trong mảng khác, trả về một mảng boolean:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
</div>
<p>Kết quả:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">array</span><span class="p">([</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bang-4-6-cac-thao-tac-tap-hop-mang">
<h2>Bảng 4-6. Các thao tác tập hợp mảng<a class="headerlink" href="#bang-4-6-cac-thao-tac-tap-hop-mang" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Phương pháp</p></th>
<th class="head"><p>Mô tả</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unique(x)</span></code></p></td>
<td><p>Tính toán các phần tử duy nhất, đã được sắp xếp trong <code class="docutils literal notranslate"><span class="pre">x</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">intersect1d(x,</span> <span class="pre">y)</span></code></p></td>
<td><p>Tính toán các phần tử chung đã được sắp xếp trong <code class="docutils literal notranslate"><span class="pre">x</span></code> và <code class="docutils literal notranslate"><span class="pre">y</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">union1d(x,</span> <span class="pre">y)</span></code></p></td>
<td><p>Tính toán tổng hợp đã được sắp xếp của các phần tử</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">in1d(x,</span> <span class="pre">y)</span></code></p></td>
<td><p>Tính toán một mảng boolean chỉ ra liệu mỗi phần tử của <code class="docutils literal notranslate"><span class="pre">x</span></code> có nằm trong <code class="docutils literal notranslate"><span class="pre">y</span></code> hay không</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">setdiff1d(x,</span> <span class="pre">y)</span></code></p></td>
<td><p>Hiệu tập, các phần tử trong <code class="docutils literal notranslate"><span class="pre">x</span></code> mà không nằm trong <code class="docutils literal notranslate"><span class="pre">y</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">setxor1d(x,</span> <span class="pre">y)</span></code></p></td>
<td><p>Sự khác biệt đối xứng của tập; các phần tử có trong một trong hai mảng, nhưng không phải cả hai</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ndarray.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">4.1 Đối Tượng Mảng N Chiều NumPy: Một Đối Tượng Mảng Đa Chiều</p>
      </div>
    </a>
    <a class="right-next"
       href="UniversalFunctions.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4.2 Hàm Toàn Cụcục: Các Hàm Mảng Nhanh Theo Phần Tử</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chi-muc-co-ban-va-cat-lat">Chỉ mục cơ bản và Cắt lát</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-bang-cach-cat">Lập chỉ mục bằng cách cắt</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-tren-mang-mot-chieu">Lập chỉ mục trên mảng một chiều</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-tren-mang-hai-chieu">Lập chỉ mục trên mảng hai chiều</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-boolean-trong-numpy">Lập Chỉ Mục Boolean trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tao-du-lieu-ngau-nhien-voi-numpy">Tạo Dữ Liệu Ngẫu Nhiên với NumPy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#su-dung-mang-boolean-de-lap-chi-muc-mang">Sử Dụng Mảng Boolean để Lập Chỉ Mục Mảng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ket-hop-nhieu-dieu-kien-boolean">Kết Hợp Nhiều Điều Kiện Boolean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#su-dung-toan-tu-de-phu-dinh-dieu-kien">Sử Dụng Toán Tử ~ để Phủ Định Điều Kiện</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gan-gia-tri-voi-mang-boolean">Gán Giá Trị với Mảng Boolean</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gan-gia-tri-cho-hang-hoac-cot-voi-boolean">Gán Giá Trị Cho Hàng hoặc Cột với Boolean</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fancy-indexing-trong-numpy">Fancy Indexing trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tao-mang-8-4">Tạo Mảng 8 × 4</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-mot-tap-con-cac-hang">Lập Chỉ Mục Một Tập Con Các Hàng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-voi-nhieu-mang-chi-so">Lập Chỉ Mục Với Nhiều Mảng Chỉ Số</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-chi-muc-fancy-voi-lat-cat">Lập Chỉ Mục Fancy với Lát Cắt</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#luu-y-ve-fancy-indexing">Lưu Ý về Fancy Indexing</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#chuyen-vi-mang-va-hoan-doi-truc-trong-numpy">Chuyển Vị Mảng và Hoán Đổi Trục trong NumPy</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#chuyen-vi-mang">Chuyển Vị Mảng</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tinh-toan-ma-tran">Tính Toán Ma Trận</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hoan-doi-truc">Hoán Đổi Trục</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hoan-doi-truc-voi-swapaxes">Hoán Đổi Trục với swapaxes()</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-3-ufunc-don">Bảng 4-3. Ufunc đơn</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-4-ham-toan-cau-nhi-phan">Bảng 4-4. Hàm toàn cầu nhị phân</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lap-trinh-huong-mang-voi-cac-mang">4.3 Lập Trình Hướng Mảng với các Mảng</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vi-du-ve-vector-hoa">Ví dụ về Vector hóa</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bieu-dien-logic-dieu-kien-duoi-dang-cac-phep-toan-mang">Biểu diễn Logic Điều kiện dưới dạng Các Phép Toán Mảng</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phuong-phap-toan-hoc-va-thong-ke">Phương pháp Toán học và Thống kê</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-5-cac-phuong-phap-thong-ke-mang-co-ban">Bảng 4-5. Các phương pháp thống kê mảng cơ bản</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#phuong-phap-cho-mang-boolean">Phương pháp cho Mảng Boolean</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sap-xep">Sắp xếp</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#logic-tap-hop-dac-biet-va-khac">Logic Tập Hợp Đặc Biệt và Khác</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bang-4-6-cac-thao-tac-tap-hop-mang">Bảng 4-6. Các thao tác tập hợp mảng</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>